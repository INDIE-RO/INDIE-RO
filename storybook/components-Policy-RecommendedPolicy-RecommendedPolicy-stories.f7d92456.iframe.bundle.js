"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[562],{"./src/components/Policy/RecommendedPolicy/RecommendedPolicy.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RecommendedPolicy_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),dist=__webpack_require__("./node_modules/.pnpm/react-ga4@2.1.0/node_modules/react-ga4/dist/index.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.3_react@18.3.1__@types+react@18.3.3_react@18.3.1/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");const banner_1_namespaceObject=__webpack_require__.p+"static/media/banner-1.d355e7eb.png",banner_2_namespaceObject=__webpack_require__.p+"static/media/banner-2.41db5f55.png";var _common=__webpack_require__("./src/components/@common/index.ts"),path=__webpack_require__("./src/constants/path.ts"),hooks_common=__webpack_require__("./src/hooks/@common/index.ts"),theme=__webpack_require__("./src/styles/theme.ts"),utils_common=__webpack_require__("./src/utils/@common.ts"),useSuspenseQuery=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.45.1_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useSuspenseQuery.js"),localStorage=__webpack_require__("./src/utils/localStorage.ts"),ClientApi=__webpack_require__("./src/apis/ClientApi.ts"),constants_error=__webpack_require__("./src/constants/error.ts");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var _ref,getRecommendedPolicy=(_ref=function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}((function(param){var id,data,error;return _ts_generator(this,(function(_state){switch(_state.label){case 0:id=param.id,_state.label=1;case 1:return _state.trys.push([1,3,,4]),[4,ClientApi.g.get(path.f0.RECOMMEND_POLICY,{params:{id}})];case 2:if(!(data=_state.sent()))throw new Error("추천 정책을 불러오는 데 실패했습니다.");return[2,data];case 3:throw function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}(error=_state.sent(),Error)?error:new Error(constants_error.x.FETCH_ERROR);case 4:return[2]}}))})),function getRecommendedPolicy(_){return _ref.apply(this,arguments)});function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var RECOMMEND_POLICY_QUERY_KEY_RECOMMENDED_POLICY="RECOMMENDED_POLICY",useRecommendedPolicyQuery=function(){var _indieroLocalStorage_getRecentViewedPolicyId,recentViewedPolicyId=null!==(_indieroLocalStorage_getRecentViewedPolicyId=localStorage.d.getRecentViewedPolicyId())&&void 0!==_indieroLocalStorage_getRecentViewedPolicyId?_indieroLocalStorage_getRecentViewedPolicyId:void 0,_useSuspenseQuery=(0,useSuspenseQuery.U)({queryKey:[RECOMMEND_POLICY_QUERY_KEY_RECOMMENDED_POLICY,recentViewedPolicyId],queryFn:function(){return getRecommendedPolicy({id:recentViewedPolicyId})}}),data=_useSuspenseQuery.data,restQuery=_object_without_properties(_useSuspenseQuery,["data"]);return function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({recommendedPolicy:data.recommendedPolicies},restQuery)};function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: auto;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  position: absolute;\n  left: ",";\n  color: ",";\n\n  @media (min-width: 431px) and (max-width: 767px) {\n    left: ",";\n  }\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  font-size: ",";\n\n  @media (min-width: 431px) and (max-width: 767px) {\n    font-size: ",";\n  }\n"]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  max-width: 26rem;\n  font-size: ",";\n\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  @media (min-width: 431px) and (max-width: 767px) {\n    font-size: ",";\n    max-width: 50rem;\n  }\n"]);return _templateObject3=function _templateObject(){return data},data}function RecommendedPolicy(){var recommendedPolicy=useRecommendedPolicyQuery().recommendedPolicy,navigate=(0,hooks_common.Vk)().navigate,banners=[{src:banner_1_namespaceObject,textLocation:"6rem",textColor:theme.A.colors.gray7},{src:banner_2_namespaceObject,textLocation:"12rem",textColor:theme.A.colors.white}],bannerWidth=utils_common.IS?window.innerWidth:430;return(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(_common.FN,{duration:5e3,carouselList:recommendedPolicy.map((function(policy,index){return(0,jsx_runtime.jsxs)(BannerContainer,{onClick:function(){return policyId=policy.id,dist.Ay.event({category:"버튼",action:"추천 정책 배너 클릭",label:"recommended-policy-banner"}),void navigate("".concat(path.gI.POLICY_LIST,"/").concat(policyId));var policyId},children:[(0,jsx_runtime.jsx)("img",{src:banners[index%banners.length].src,alt:"정책 배너",width:"".concat(bannerWidth,"px"),height:(0,utils_common.r)(bannerWidth)}),(0,jsx_runtime.jsxs)(TitleWrapper,{textLocation:banners[index%banners.length].textLocation,textColor:banners[index%banners.length].textColor,children:[(0,jsx_runtime.jsx)(SubTitle,{children:"이 정책은 어때요?"}),(0,jsx_runtime.jsx)(Title,{children:policy.title})]})]},policy.id)}))})})}const RecommendedPolicy_RecommendedPolicy=RecommendedPolicy;var BannerContainer=emotion_styled_browser_esm.A.div(_templateObject()),TitleWrapper=emotion_styled_browser_esm.A.div(_templateObject1(),(function(param){return param.textLocation}),(function(param){return param.textColor}),(function(param){return function(textLocation,offset){var baseValue=parseFloat(textLocation),offsetValue=parseFloat(offset);return"".concat(baseValue+offsetValue,"rem")}(param.textLocation,"6")})),SubTitle=emotion_styled_browser_esm.A.h3(_templateObject2(),theme.A.fontSizes.xxs,theme.A.fontSizes.md),Title=emotion_styled_browser_esm.A.h2(_templateObject3(),theme.A.fontSizes.md,theme.A.fontSizes.xl);RecommendedPolicy.__docgenInfo={description:"",methods:[],displayName:"RecommendedPolicy"};const RecommendedPolicy_stories={title:"@policy/RecommendedPolicy",component:RecommendedPolicy_RecommendedPolicy};var Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);